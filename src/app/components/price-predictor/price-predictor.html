<!-- Price Predictor Component -->
<div class="price-predictor">
  <h2>Crop Price Predictor</h2>
  <p class="intro">
    Stay ahead of the market. Enter your crop and location to see todayâ€™s price
    and predictions for the next 7 days based on local market trends.
  </p>

  <div class="form">
    <label>
      Crop:
      <select [(ngModel)]="selectedCrop">
        <option value="">-- Select Crop --</option>
        <option *ngFor="let c of crops" [value]="c">{{ c }}</option>
      </select>
    </label>

    <label>
      Location:
      <select [(ngModel)]="selectedLocation">
        <option value="">-- Select Location --</option>
        <option *ngFor="let l of locations" [value]="l">{{ l }}</option>
      </select>
    </label>

    <button class="primary" (click)="predictPrice()" [disabled]="loading">
      Predict
    </button>
  </div>

  <div class="status" *ngIf="loading">ðŸ”„ Loading predictions...</div>
  <div class="error" *ngIf="errorMessage">{{ errorMessage }}</div>

  <div *ngIf="currentPrice !== null && !loading" class="result-card">
    <h3>{{ selectedCrop }} - {{ selectedLocation }}</h3>
    <p><strong>Current Price:</strong> <span class="price">KES {{ currentPrice }}</span></p>

    <h4>Predicted Prices (Next 7 Days)</h4>
    <ul>
      <li *ngFor="let p of predictedPrices">
        <span class="date">{{ p.date | date:'EEE, MMM d' }}</span>
        <span class="arrow">â†’</span>
        <span class="predicted">KES {{ p.price }}</span>
      </li>
    </ul>
  </div>
</div>
