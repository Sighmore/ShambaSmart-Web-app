<div class="header">
  <!-- Logo -->
  <div class="logo">
    <a routerLink="/">
      <!-- Full logo for desktop -->
      <img src="images/logo.png" alt="ShambaSmart" class="logo-full" />
      <!-- SS initials for mobile -->
      <span class="logo-mobile">SS</span>
    </a>
  </div>

  <!-- Hamburger/Menu Button for Small Screens -->
  <button class="hamburger" (click)="toggleMenu()" aria-label="Toggle Menu">
    ☰
  </button>

  <!-- Navigation Links -->
  <nav class="nav-links" [ngClass]="{ 'active': isMenuOpen }">
    <a routerLink="/shop" (click)="isMenuOpen = false">Shop</a>

    <!-- Shamba AI dropdown -->
    <div class="nav-item dropdown" (click)="toggleExtensionDropdown($event)">
      <span class="dropdown-btn">Shamba AI ▼</span>
      <div class="dropdown-content" *ngIf="isExtensionDropdownOpen">
        <a routerLink="/cropDoctor" (click)="isMenuOpen = false">AI Crop Doctor</a>
        <a routerLink="/pricePredictor" (click)="isMenuOpen = false">AI Price Predictor</a>
        <a routerLink="/smartInputAdvisor" (click)="isMenuOpen = false">Smart Input Advisor</a>
      </div>
    </div>

    <a routerLink="/prices" (click)="isMenuOpen = false">Prices</a>
    <a routerLink="/forums" (click)="isMenuOpen = false">Forums</a>
    <a routerLink="/farmer_queries" (click)="isMenuOpen = false">Queries</a>
    <a routerLink="/about" (click)="isMenuOpen = false">About</a>
  </nav>

  <!-- Right Section: Cart + Auth -->
  <div class="header-right">
    <!-- Cart -->
    <div class="cart">
      <a routerLink="/cart">
        <svg class="cart-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
      <path fill="currentColor" d="M7 18c-1.1 0-1.99.9-1.99 
      2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10 
      0c-1.1 0-1.99.9-1.99 2S15.9 22 17 
      22s2-.9 2-2-.9-2-2-2zM7.16 14.26l.84-1.68h7.45c.75 
      0 1.41-.41 1.75-1.03l3.58-6.49A1 
      1 0 0 0 20 4H6.21l-.94-2H1v2h2l3.6 
      7.59-1.35 2.44C4.52 14.37 5.48 16 
      7 16h12v-2H7.42c-.14 0-.25-.11-.26-.24z"/>
    </svg>
        <span class="cart-count" *ngIf="(cartCount$ | async) as count">{{ count }}</span>
      </a>
    </div>

    <!-- Auth Dropdown -->
    <div class="auth-dropdown" (click)="preventClose($event)">
      <button class="dropdown-btn" (click)="toggleDropdown($event)">
        Account ▼
      </button>
      <div class="dropdown-content" *ngIf="isDropdownOpen">
        <a routerLink="/signin" (click)="isMenuOpen = false">Sign In</a>
        <a routerLink="/signup" (click)="isMenuOpen = false">Sign Up</a>
      </div>
    </div>
  </div>
</div>
