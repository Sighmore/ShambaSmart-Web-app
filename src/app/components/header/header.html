<div class="header">
  <!-- Logo -->
  <div class="logo">
    <a routerLink="/">
      <img src="images/logo.png" alt="ShambaSmart" />
    </a>
  </div>

  <!-- Hamburger/Menu Button for Small Screens -->
  <button class="hamburger" (click)="toggleMenu()" aria-label="Toggle Menu">
    â˜°
  </button>

  <!-- Navigation Links -->
  <nav class="nav-links" [ngClass]="{ 'active': isMenuOpen }">
    <a routerLink="/shop" (click)="isMenuOpen = false">Shop</a>

    <!-- Shamba AI dropdown -->
    <div class="nav-item dropdown" (click)="toggleExtensionDropdown($event)">
      <span class="dropdown-btn">Shamba AI â–¼</span>
      <div class="dropdown-content" *ngIf="isExtensionDropdownOpen">
        <a routerLink="/cropDoctor" (click)="isMenuOpen = false">AI Crop Doctor</a>
        <a routerLink="/pricePredictor" (click)="isMenuOpen = false">AI Price Predictor</a>
        <a routerLink="/smartInputAdvisor" (click)="isMenuOpen = false">Smart Input Advisor</a>
      </div>
    </div>

    <a routerLink="/prices" (click)="isMenuOpen = false">Prices</a>
    <a routerLink="/forums" (click)="isMenuOpen = false">Forums</a>
    <a routerLink="/farmer_queries" (click)="isMenuOpen = false">Queries</a>
    <a routerLink="/about" (click)="isMenuOpen = false">About</a>
  </nav>

  <!-- Right Section: Cart + Auth -->
  <div class="header-right">
    <!-- Cart -->
    <div class="cart">
      <a routerLink="/cart">
        <span class="cart-icon">ðŸ›’</span>
        <span class="cart-count" *ngIf="(cartCount$ | async) as count">{{ count }}</span>
      </a>
    </div>

    <!-- Auth Dropdown -->
    <div class="auth-dropdown" (click)="preventClose($event)">
      <button class="dropdown-btn" (click)="toggleDropdown($event)">
        Account â–¼
      </button>
      <div class="dropdown-content" *ngIf="isDropdownOpen">
        <a routerLink="/signin" (click)="isMenuOpen = false">Sign In</a>
        <a routerLink="/signup" (click)="isMenuOpen = false">Sign Up</a>
      </div>
    </div>
  </div>
</div>
